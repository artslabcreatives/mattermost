// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.
// See LICENSE.txt for license information.

.UppyFileUpload {
	position: relative;
	display: inline-block;

	&__panel--hidden {
		display: none !important;
	}

	&__panel {
		// Fixed positioning keeps the panel inside the viewport regardless
		// of where in the page the composer button lives.
		position: fixed;
		bottom: 80px;
		left: 50%;
		transform: translateX(-50%);
		z-index: 1000;
		width: 460px;
		max-width: calc(100vw - 32px);
		border-radius: 4px;
		box-shadow: 0 8px 24px rgba(0, 0, 0, 0.24);

		// Ensure the Uppy Dashboard fills the container
		.uppy-Dashboard,
		.uppy-Dashboard-inner {
			width: 100% !important;
		}
	}

	// Inline progress bar shown while a TUS upload is in flight.
	&__progress-bar {
		position: absolute;
		bottom: -4px;
		left: 0;
		width: 100%;
		height: 3px;
		background-color: rgba(var(--button-bg-rgb), 0.2);
		border-radius: 2px;
		overflow: hidden;
	}

	&__progress-bar-fill {
		height: 100%;
		background-color: var(--button-bg, #1c58d9);
		border-radius: 2px;
		transition: width 0.2s ease;
	}
}
